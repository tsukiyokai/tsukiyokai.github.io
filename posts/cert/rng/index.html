<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   <meta name="description" content="一个数字，例如8，不能称之为是随机数，随机数是指具有确定分布和概率的、位于一定阈值内的一组数字。除了传统的均匀分布随机数之外，还有非均匀分布随机数，例如二项分布、Poisson分布和指数分布等。
许多密码学场景依赖于安全随机数生成器来生成密钥和密码随机数，如果随机数生成器生成的结果可预测，则攻击者可以将其用作后门来破解加密。因此为了能够生成安全的、不被轻易破解的密钥，需要一个随机数源。熵越大，数字随机性越强，越能得到更安全的密钥。
随机数生成器即random number generator，RNG。根据生成结果能否被预见，随机数生成器可以分为以物理随机量作为发生源的真随机数生成器TRNG，true random number generators和使用数学算法的伪随机数生成器PRNG，pseudorandom number generators。两者区别如下：
伪随机数生成器生成的数字只是看起来随机，但实际上是预先确定的——只需了解PRNG的状态即可重现这些生成结果。 真随机数生成器可以是硬件随机数生成器（HRNG），其每次生成都是物理环境属性的当前值，该属性以实际上不可能建模的方式不断变化。 伪随机数生成方法达不到真正随机的目标，因此一般的伪随机数生成器无法直接用于密码学。但是它们仍可以在某些程度上满足一些随机性统计测试，其中加密安全伪随机数生成器（CSPRNGS）具有专门设计用于加密的特殊功能。
生成随机数的两种一般方法：
测量物理现象。大自然提供了大量的现象，可以产生低水平、统计随机的“噪声”信号，包括热噪声和散粒噪声、电子电路的抖动和亚稳态、布朗运动、大气噪声。虽然“经典”（非量子）现象并不是真正随机的，但不可预测的物理系统通常可以作为随机性的来源，因此限定词“真实”和“物理”可以互换使用。从自然资源获得熵的速度取决于所测量的潜在物理现象。因此，自然发生的“真实”熵的来源被认为是阻塞的——它们的速率受到限制，直到收获足够的熵来满足需求。例如，在大多数Linux发行版上，伪设备文件/dev/random就是阻塞式的，因此用随机位填充硬盘驱动器，在使用此类熵源的系统上通常会很慢。 使用计算算法。大多数计算机生成的随机数都使用PRNG，这些算法可以自动创建具有良好随机属性的长期数字，但最终序列会重复（或者内存使用量无限制地增长）。这些随机数在许多情况下都很好，但不如用作熵源的电磁大气噪声生成的数字那么随机。这种算法可以产生看似随机的一些列值，但是这些结果实际上完全由较短的初始值（称为种子值或密钥）决定。因此，如果种子值已知，则可以再现整个看似随机的序列。这种类型的随机数生成器通常称为伪随机数生成器。这种类型的发生器通常不依赖于自然发生的熵源，尽管它可以定期由自然源播种。这种生成器类型是非阻塞的，因此它们不受外部事件的速率限制，因此适合大规模读取。 一般采用以上两种的混合方法，使用TRNG来播种加密安全的伪随机数生成器。这种方法提供从可用的自然资源中获取的随机性，并定期回退到重新播种的基于软件的加密安全伪随机数生成器。当所需的随机性读取速率超过自然收获方法满足需求的能力时，就会发生回退。这种方法避免了基于较慢且纯环境方法的随机数生成器的速率限制阻塞行为。虽然仅基于确定性逻辑的伪随机数生成器永远不能被视为最纯粹意义上的“真正的”随机数源，但实际上，即使对于要求严格的安全关键型应用，它们通常也足够了。精心设计和实现的伪随机数生成器完全可以用于安全关键的加密目的。
硬件随机数生成器的主要用途是数据加密领域，例如创建加密和签名数据所需的随机加密密钥和随机数。HRNG预计会输出近乎完美的随机数（“全熵”），经典世界的物理过程则通常不具有此属性。实际的TRNG通常包括几个部分：
实现产生熵的物理过程的噪声源。通常这个过程是模拟的，因此数字转换器用于将模拟源的输出转换为二进制表示形式。 提高随机位质量的调节器。 健康测试。TRNG主要用于密码算法，如果随机数的熵较低，这些算法就会被完全破解，因此通常包含测试功能。 参考资料：
The Intel Random Number Generator by Intel NIST.SP.800-90B Recommendation for the Entropy Sources Used for Random Bit Generation OP-TEE Documentation This is the official location for OP-TEE documentation. NIST计算机安全资源中心 CSRC Projects, Publications, News, Events and Presentations ">  

  <title>
    
      安全随机数
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="/" />
  
  
  
  <link rel="stylesheet" href="/css/main.1d7fe65b67f2064e8ef2be6444eb3ff386972bc4233864a46b07b46585917d4c68e009ab74ccd28ca8fc79495ea1fe14fd57e5d33d8305f83be36be77161d490.css" integrity="sha512-HX/mW2fyBk6O8r5kROs/84aXK8QjOGSkawe0ZYWRfUxo4AmrdMzSjKj8eUleof4U/Vfl0z2DBfg742vncWHUkA==" />
  
</head>
<body a="light">
        <main class="page-content" aria-label="Content">
            <div class="w">
<a href="/">..</a>


<article>
    <h1>安全随机数</h1>

    

    <p>一个数字，例如8，不能称之为是随机数，随机数是指具有确定分布和概率的、位于一定阈值内的一组数字。除了传统的均匀分布随机数之外，还有非均匀分布随机数，例如二项分布、Poisson分布和指数分布等。</p>
<p>许多密码学场景依赖于安全随机数生成器来生成密钥和密码随机数，如果随机数生成器生成的结果可预测，则攻击者可以将其用作后门来破解加密。因此为了能够生成安全的、不被轻易破解的密钥，需要一个随机数源。熵越大，数字随机性越强，越能得到更安全的密钥。</p>
<p>随机数生成器即random number generator，RNG。根据生成结果能否被预见，随机数生成器可以分为以物理随机量作为发生源的真随机数生成器TRNG，true random number generators和使用数学算法的伪随机数生成器PRNG，pseudorandom number generators。两者区别如下：</p>
<ul>
<li>伪随机数生成器生成的数字只是看起来随机，但实际上是预先确定的——只需了解PRNG的状态即可重现这些生成结果。</li>
<li>真随机数生成器可以是硬件随机数生成器（HRNG），其每次生成都是物理环境属性的当前值，该属性以实际上不可能建模的方式不断变化。</li>
</ul>
<p>伪随机数生成方法达不到真正随机的目标，因此一般的伪随机数生成器无法直接用于密码学。但是它们仍可以在某些程度上满足一些随机性统计测试，其中加密安全伪随机数生成器（CSPRNGS）具有专门设计用于加密的特殊功能。</p>
<p>生成随机数的两种一般方法：</p>
<ol>
<li>测量物理现象。大自然提供了大量的现象，可以产生低水平、统计随机的“噪声”信号，包括热噪声和散粒噪声、电子电路的抖动和亚稳态、布朗运动、大气噪声。虽然“经典”（非量子）现象并不是真正随机的，但不可预测的物理系统通常可以作为随机性的来源，因此限定词“真实”和“物理”可以互换使用。从自然资源获得熵的速度取决于所测量的潜在物理现象。因此，自然发生的“真实”熵的来源被认为是阻塞的——它们的速率受到限制，直到收获足够的熵来满足需求。例如，在大多数Linux发行版上，伪设备文件<code>/dev/random</code>就是阻塞式的，因此用随机位填充硬盘驱动器，在使用此类熵源的系统上通常会很慢。</li>
<li>使用计算算法。大多数计算机生成的随机数都使用PRNG，这些算法可以自动创建具有良好随机属性的长期数字，但最终序列会重复（或者内存使用量无限制地增长）。这些随机数在许多情况下都很好，但不如用作熵源的电磁大气噪声生成的数字那么随机。这种算法可以产生看似随机的一些列值，但是这些结果实际上完全由较短的初始值（称为种子值或密钥）决定。因此，如果种子值已知，则可以再现整个看似随机的序列。这种类型的随机数生成器通常称为伪随机数生成器。这种类型的发生器通常不依赖于自然发生的熵源，尽管它可以定期由自然源播种。这种生成器类型是非阻塞的，因此它们不受外部事件的速率限制，因此适合大规模读取。</li>
</ol>
<p>一般采用以上两种的混合方法，使用TRNG来播种加密安全的伪随机数生成器。这种方法提供从可用的自然资源中获取的随机性，并定期回退到重新播种的基于软件的加密安全伪随机数生成器。当所需的随机性读取速率超过自然收获方法满足需求的能力时，就会发生回退。这种方法避免了基于较慢且纯环境方法的随机数生成器的速率限制阻塞行为。虽然仅基于确定性逻辑的伪随机数生成器永远不能被视为最纯粹意义上的“真正的”随机数源，但实际上，即使对于要求严格的安全关键型应用，它们通常也足够了。精心设计和实现的伪随机数生成器完全可以用于安全关键的加密目的。</p>
<p>硬件随机数生成器的主要用途是数据加密领域，例如创建加密和签名数据所需的随机加密密钥和随机数。HRNG预计会输出近乎完美的随机数（“全熵”），经典世界的物理过程则通常不具有此属性。实际的TRNG通常包括几个部分：</p>
<ol>
<li>实现产生熵的物理过程的噪声源。通常这个过程是模拟的，因此数字转换器用于将模拟源的输出转换为二进制表示形式。</li>
<li>提高随机位质量的调节器。</li>
<li>健康测试。TRNG主要用于密码算法，如果随机数的熵较低，这些算法就会被完全破解，因此通常包含测试功能。</li>
</ol>
<p>参考资料：</p>
<ul>
<li><a href="https://www.rambus.com/intel-random-number-generator">The Intel Random Number Generator by Intel</a></li>
<li><a href="https://doi.org/10.6028/NIST.SP.800-90B">NIST.SP.800-90B</a> Recommendation for the Entropy Sources Used for Random Bit Generation</li>
<li><a href="https://optee.readthedocs.io">OP-TEE Documentation</a> This is the official location for OP-TEE documentation.</li>
<li><a href="https://csrc.nist.gov/topics">NIST计算机安全资源中心</a> CSRC Projects, Publications, News, Events and Presentations</li>
</ul>

</article>

            </div>
        </main>
    </body></html>
